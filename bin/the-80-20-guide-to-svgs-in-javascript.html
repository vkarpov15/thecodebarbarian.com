<!DOCTYPE html><html><head><script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-TE4SWRGR9E"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'G-TE4SWRGR9E');
</script><title>The 80/20 Guide to SVGs in JavaScript | www.thecodebarbarian.com</title><meta name="viewport" content="width=device-width, initial-scale=1"><link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Merriweather:400,400italic,600,700" rel="stylesheet" type="text/css"><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"><link href="/style/style.css" rel="stylesheet" type="text/css"><link href="/style/github.css" rel="stylesheet" type="text/css"><script href="http://code.jquery.com/jquery-2.1.1.min.js" type="text/javascript"></script><script href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js" type="text/javascript"></script><script href="/javascript/sidebar.js" type="text/javascript"></script><meta property="og:title" content="The 80/20 Guide to SVGs in JavaScript"><meta property="og:url" content="http://www.thecodebarbarian.com/the-80-20-guide-to-svgs-in-javascript"><meta property="og:image" content="https://codebarbarian-images.s3.amazonaws.com/ca.jpg"><meta property="og:site_name" content="The Code Barbarian"><meta property="description" content="[SVG](https://www.sitepoint.com/svg-101-what-is-svg/) is an image format that is especially"><meta name="twitter:image" content="https://codebarbarian-images.s3.amazonaws.com/ca.jpg"><meta name="twitter:card" content="summary_large_image"></head><body><div class="navbar social-links hidden-sm hidden-xs"><div class="container"><ul class="nav navbar-nav navbar-right"><li><a href="http://www.twitter.com/code_barbarian">twitter</a></li><li><a href="http://www.github.com/vkarpov15">github</a></li><li><a href="http://thecodebarbarian.com/feed.xml">rss</a></li><li><a href="/recommendations">recommendations</a></li></ul></div></div><div class="navbar" id="nav"><div class="container"><div class="navbar-header"><a class="navbar-brand big-brand" href="http://thecodebarbarian.com"><img class="logo" src="/images/Barbarian_Head.png"><span class="site-name">The Code Barbarian</span></a></div><div class="navbar-right collapse navbar-collapse" id="home-nav-mobile"><ul class="nav navbar-nav"><li><a href="/tag/mongodb.html">MongoDB</a></li><li><a href="/tag/nodejs.html">NodeJS</a></li><li><a href="/tag/asyncawait.html">Async/Await</a></li><li><a href="/tag/vue.html">Vue</a></li><li class="hidden-md hidden-lg"><a href="#">@code_barbarian</a></li><li class="hidden-md hidden-lg"><a href="#">TCB Github</a></li><li class="hidden-md hidden-lg"><a href="#">TCB Facebook</a></li></ul></div></div></div><div class="container-fluid"><div class="col-lg-3 col-lg-offset-9 right-bar" id="desktop-right-bar"><div class="right-bar-content-slider pull-right"><div class="row recent-posts right-bar-group"><div class="col-lg-12 articles"><p class="right-bar-label">Most Popular Articles</p><ul class="list-unstyled"><li class="right-bar-li"><a href="/common-async-await-design-patterns-in-node.js.html">Common Async/Await Design Patterns in Node.js</a></li><li class="right-bar-li"><a href="/unhandled-promise-rejections-in-node.js.html">Unhandled Promise Rejections in Node.js</a></li><li class="right-bar-li"><a href="/using-async-await-with-mocha-express-and-mongoose">Using Async/Await with Mocha, Express, and Mongoose</a></li><li class="right-bar-li"><a href="/write-your-own-node-js-promise-library-from-scratch.html">Write Your Own Node.js Promise Library from Scratch</a></li><li class="right-bar-li"><a href="/80-20-guide-to-express-error-handling">The 80/20 Guide to Express Error Handling</a></li></ul></div></div><div class="row recent-posts right-bar-group"><div class="col-lg-12 books"><p class="right-bar-label">Ebooks<div><a href="http://asyncawait.net/?utm_source=thecodebarbarian&amp;utm_campaign=sidebar"><img src="/images/verticalbanner.png"></a></div><div><a href="http://es2015generators.com"><img src="https://i.imgur.com/xvGNKlr.png"><p><i>The 80/20 Guide to ES2015 Generators</i></p></a></div></p></div></div></div></div></div><div class="container-fluid hidden-sm hidden-md hidden-lg" id="mobile-sharing-options"><div class="row"><div class="col-lg-12"><style>#home-nav-mobile {
  float: left !important;
  margin-left: 215px !important;
}
</style><div class="post-sharing-options"><div class="row"><div class="col-xs-3 twitter-share sharing-option"><a class="social" href="https://twitter.com/share?url=#{encodeURIComponent('http://www.thecodebarbarian.com' + post.dest.directory.substr('./bin'.length) + '/' + post.dest.name)}&amp;via=code_barbarian"><i class="fa fa-twitter"></i></a></div><div class="col-xs-3 facebook-share sharing-option"><a class="social" href="https://www.facebook.com/sharer/sharer.php?u=#{encodeURIComponent('http://www.thecodebarbarian.com/' + post.dest.directory.substr('./bin'.length) + '/' + post.dest.name)}"><i class="fa fa-facebook"></i></a></div><div class="col-xs-3 google-share sharing-option"><a class="social" href="https://plus.google.com/share?url=#{encodeURIComponent('http://www.thecodebarbarian.com/' + post.dest.directory.substr('./bin'.length) + '/' + post.dest.name)}"><i class="fa fa-google-plus"></i></a></div><div class="col-xs-3 comment sharing-option"><a class="social" href="#disqus_thread"><i class="fa fa-comment"></i></a></div></div></div></div></div></div><div class="post-sharing-options hidden-xs pull-left" id="desktop-sharing-options"><ul class="list-unstyled"><li class="twitter-share"><a class="social" href="https://twitter.com/share?url=#{encodeURIComponent('http://www.thecodebarbarian.com' + post.dest.directory.substr('./bin'.length) + '/' + post.dest.name)}&amp;via=code_barbarian"><i class="fa fa-twitter sharing-option"></i></a></li><li class="facebook-share"><a class="social" href="https://www.facebook.com/sharer/sharer.php?u=#{encodeURIComponent('http://www.thecodebarbarian.com/' + post.dest.directory.substr('./bin'.length) + '/' + post.dest.name)}"><i class="fa fa-facebook sharing-option"></i></a></li><li class="google-share"><a class="social" href="https://plus.google.com/share?url=#{encodeURIComponent('http://www.thecodebarbarian.com/' + post.dest.directory.substr('./bin'.length) + '/' + post.dest.name)}"><i class="fa fa-google-plus sharing-option"></i></a></li></ul></div><div class="container"><div class="col-lg-9 post-text"><div class="row"><div class="title-byline-container"><h1 class="post-title">The 80/20 Guide to SVGs in JavaScript</h1><div class="credits"><span class="byline">by Valeri Karpov</span><span class="byhandle"><a href="http://www.twitter.com/code_barbarian">@code_barbarian</a></span><span class="bydate">October 16, 2019</span></div></div></div><script type="text/javascript" src="/js/native.js"></script><div><script src="//m.servedby-buysellads.com/monetization.js" type="text/javascript"></script>

<div class="native-banner"></div>
</div><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CKYI5K3Y&placement=thecodebarbariancom" id="_carbonads_js"></script><div class="post-body-text-container"><p><a href="https://www.sitepoint.com/svg-101-what-is-svg/">SVG</a> is an image format that is especially
well suited to JavaScript. SVG stands for <a href="https://en.wikipedia.org/wiki/Scalable_Vector_Graphics">&quot;scalable vector graphics&quot;</a>, which you can grow or shrink an SVG image to any arbitrary size without loosing
quality. What makes SVGs so special for JavaScript is that SVGs are defined in an XML format that&#39;s
very similar to HTML, so much so that you can define SVGs inline in HTML files and manipulate them using
JavaScript frameworks.</p>
<h2 id="basic-svg-in-html">Basic SVG in HTML</h2>
<p>Below is an SVG version of the yin and yang symbol from <a href="https://commons.wikimedia.org/wiki/File:Yin_yang.svg">Wikimedia commons</a>.</p>
<pre><code>&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;200&quot; height=&quot;200&quot; viewBox=&quot;-40 -40 80 80&quot;&gt;
  &lt;circle r=&quot;39&quot;/&gt;
  &lt;path d=&quot;M0,38a38,38 0 0 1 0,-76a19,19 0 0 1 0,38a19,19 0 0 0 0,38&quot; fill=&quot;#fff&quot;/&gt;
  &lt;circle cy=&quot;19&quot; r=&quot;5&quot; fill=&quot;#fff&quot;/&gt;
  &lt;circle cy=&quot;-19&quot; r=&quot;5&quot;/&gt;
&lt;/svg&gt;</code></pre><p>Here&#39;s what it looks like in the browser. </p>
<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="-40 -40 80 80">
  <circle r="39"/>
  <path d="M0,38a38,38 0 0 1 0,-76a19,19 0 0 1 0,38a19,19 0 0 0 0,38" fill="#fff"/>
  <circle cy="19" r="5" fill="#fff"/>
  <circle cy="-19" r="5"/>
</svg>

<br>

<p>An SVG image is just a collection of shapes defined in XML, like <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/circle">circles</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/rect">rectangles</a>, or <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path">arbitrary paths</a>. You can modify an SVG using a plain old
text editor like VS Code, or an <a href="https://www.rapidtables.com/web/tools/svg-viewer-editor.html">online viewer</a>.
There is also an <a href="https://atom.io/packages/svg-preview">atom plugin that previews SVGs</a>. For example, if you
comment out the last <code>circle</code> tag from the above image, you remove the top black dot.</p>
<pre><code>&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;200&quot; height=&quot;200&quot; viewBox=&quot;-40 -40 80 80&quot;&gt;
  &lt;circle r=&quot;39&quot;/&gt;
  &lt;path d=&quot;M0,38a38,38 0 0 1 0,-76a19,19 0 0 1 0,38a19,19 0 0 0 0,38&quot; fill=&quot;#fff&quot;/&gt;
  &lt;circle cy=&quot;19&quot; r=&quot;5&quot; fill=&quot;#fff&quot;/&gt;
  &lt;!-- &lt;circle cy=&quot;-19&quot; r=&quot;5&quot;/&gt; --&gt;
&lt;/svg&gt;</code></pre><svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="-40 -40 80 80">
  <circle r="39"/>
  <path d="M0,38a38,38 0 0 1 0,-76a19,19 0 0 1 0,38a19,19 0 0 0 0,38" fill="#fff"/>
  <circle cy="19" r="5" fill="#fff"/>
  <!-- <circle cy="-19" r="5"/> -->
</svg>

<br>

<p>SVGs support comments. There is an <a href="https://www.npmjs.com/package/svgo">extremely popular npm module for optimizing SVGs called <code>svgo</code></a> that minifies SVGs by removing comments and other non-functional elements.</p>
<p>Scaling an SVG is as easy as increasing the <code>width</code> and <code>height</code> properties of the <code>svg</code> tag. No need to modify
any of the SVG internals. Below is how you double the height and width of the yin yang symbol to 400x400.</p>
<pre><code>&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;400&quot; height=&quot;400&quot; viewBox=&quot;-40 -40 80 80&quot;&gt;...&lt;/svg&gt;</code></pre><h2 id="svg-with-vue">SVG With Vue</h2>
<p>Because you can embed SVGs into the browser, you can also create and manipulate SVGs using component-based
frameworks like <a href="https://thecodebarbarian.com/building-a-form-with-vue">Vue</a>. For example, below is a Vue
app that renders the yin yang symbol:</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> app = <span class="hljs-keyword">new</span> Vue({
  template: <span class="hljs-string">`
    &lt;svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="-40 -40 80 80"&gt;
      &lt;circle r="39"/&gt;
      &lt;path d="M0,38a38,38 0 0 1 0,-76a19,19 0 0 1 0,38a19,19 0 0 0 0,38" fill="#fff"/&gt;
      &lt;circle cy="19" r="5" fill="#fff"/&gt;
      &lt;circle cy="-19" r="5"/&gt;
    &lt;/svg&gt;
  `</span>
}).$mount(<span class="hljs-string">'#content'</span>);</code></pre>
<p>You can use <a href="https://masteringjs.io/tutorials/vue/v-if">conditional rendering with <code>v-if</code></a> and other
<a href="https://vuejs.org/v2/guide/custom-directive.html">Vue directives</a> with inline SVGs as well. For example,
the below Vue app lets you get rid of the yin (black) or yang (white) side of the symbol and throw
the universe out of balance.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> app = <span class="hljs-keyword">new</span> Vue({
  data: () =&gt; ({
    yin: <span class="hljs-literal">true</span>,
    yang: <span class="hljs-literal">true</span>
  }),
  template: <span class="hljs-string">`
    &lt;div&gt;
      &lt;div&gt;
        &lt;div&gt;
          &lt;input type="checkbox" v-model="yin"&gt; Yin
        &lt;/div&gt;
        &lt;div&gt;
          &lt;input type="checkbox" v-model="yang"&gt; Yang
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="-40 -40 80 80"&gt;
        &lt;circle r="39" v-if="yin"/&gt;
        &lt;circle r="39" v-if="yang &amp;&amp; !yin" fill="#fff" /&gt;
        &lt;path d="M0,38a38,38 0 0 1 0,-76a19,19 0 0 1 0,38a19,19 0 0 0 0,38" fill="#fff" v-if="yang" /&gt;
        &lt;circle v-if="yang" cy="19" r="5" fill="#fff"/&gt;
        &lt;circle v-if="yin" cy="-19" r="5"/&gt;
      &lt;/svg&gt;
    &lt;/div&gt;
  `</span>
}).$mount(<span class="hljs-string">'#content'</span>);</code></pre>
<img src="https://codebarbarian-images.s3.amazonaws.com/yinyang.gif" class="inline-image">

<h2 id="exporting-svgs">Exporting SVGs</h2>
<p>SVGs enjoy widespread browser support, but some apps don&#39;t support SVG images. For example, Slack doesn&#39;t show
a preview of uploaded SVG images:</p>
<img src="https://i.imgur.com/JH0Ot42.png" class="inline-image">

<p>The workaround is to use an npm module to convert your SVG to a PNG. In the past I&#39;ve used <a href="https://www.npmjs.com/package/sharp">sharp</a> for this.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> sharp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'sharp'</span>);
<span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);

<span class="hljs-keyword">const</span> buf = fs.readFileSync(<span class="hljs-string">'./yinyang.svg'</span>);

<span class="hljs-comment">// Use sharp to convert the SVG to a PNG, remember</span>
<span class="hljs-comment">// that `toBuffer()` returns a promise!</span>
sharp(buf).png().toBuffer().then(out =&gt; {
  fs.writeFileSync(<span class="hljs-string">'./yinyang.png'</span>, out);
});</code></pre>
<p>Once you have a PNG, you can upload the PNG to Slack. For example, you can use a pure SVG charting library
like <a href="https://frappe.io/charts">Frappe</a> to create charts, then convert them to PNGs using Sharp so you can
automatically upload them to Slack.</p>
<h2 id="svg-for-logos">SVG For Logos</h2>
<p>Many popular sites display their logo using SVGs. For example, Twitter&#39;s logo is an SVG:</p>
<img src="https://i.imgur.com/UL2GBuU.png" class="inline-image">

<p>SVG files are tiny: <a href="https://gist.github.com/mbostock/3094619">Twitter&#39;s logo is only a couple hundred bytes</a>.
You can even inline them in your HTML, so you don&#39;t need an extra HTTP request to load your logo.
There are substantial performance benefits to using SVGs over JPG or PNG for icons and logos, because SVGs
are typically much smaller.</p>
<h2 id="moving-on">Moving On</h2>
<p>SVGs are much more useful than most developers give them credit for. Because they&#39;re defined in a human-readable
plain text format, you can tweak SVGs without paying for Photoshop. Because browsers have native SVG support, you
can use frontend frameworks like Vue or React to draw SVGs. That makes it easy to get creative with visualizations:
Gantt charts, <a href="https://en.wikipedia.org/wiki/Treemapping">Tree maps</a>, GitHub-style heat maps, and more. Try building
your own SVG visualizations from scratch: you&#39;ll be surprised how easy it is to build something neat.</p>
</div><div style="color: #666666; border-top: 1px dashed #666666; margin: 25px; text-align: center; padding-top: 10px"><em>Found a typo or error? Open up a pull request! This post is
available as markdown on&nbsp;<a href="https://github.com/vkarpov15/thecodebarbarian.com/blob/master/lib/posts/#{post.src.substr('./lib/posts/'.length)}">Github</a></em></div><div id="disqus_thread"></div><script type="text/javascript">/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'codebarbarian'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a class="dsq-brlink" href="http://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a></div></div><div style="padding-bottom: 100px">&nbsp;</div><script type="text/javascript">var xhr = new XMLHttpRequest();
xhr.open('POST', 'https://g0a3nbw0xa.execute-api.us-east-1.amazonaws.com/prod/track', true);
xhr.setRequestHeader('Content-Type', 'application/json');
xhr.onreadystatechange = function() {};
xhr.send(JSON.stringify({
  path: window.location.pathname,
  hostname: window.location.hostname
}));</script><link rel="stylesheet" href="/style/inlinecpc.css"></body></html>