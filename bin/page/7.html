<html><head><script type="text/javascript">var _sf_startpt=(new Date()).getTime()
</script><title>Page 7 | www.thecodebarbarian.com</title><meta name="viewport" content="width=device-width, initial-scale=1"/><link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" type="text/css"/><link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600" rel="stylesheet" type="text/css"/><link href="//fonts.googleapis.com/css?family=Merriweather:400,400italic,600,700" rel="stylesheet" type="text/css"/><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/><link href="/style/style.css" rel="stylesheet" type="text/css"/><link href="/style/github.css" rel="stylesheet" type="text/css"/><script href="http://code.jquery.com/jquery-2.1.1.min.js" type="text/javascript"></script><script href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js" type="text/javascript"></script><script href="/javascript/sidebar.js" type="text/javascript"></script></head><body><div class="navbar social-links hidden-sm hidden-xs"><div class="container"><ul class="nav navbar-nav navbar-right"><li><a href="http://www.twitter.com/code_barbarian">twitter</a></li><li><a href="http://www.github.com/vkarpov15">github</a></li><li><a href="http://thecodebarbarian.com/feed.xml">rss</a></li><li><a href="/recommendations">recommendations</a></li></ul></div></div><div id="nav" class="navbar"><div class="container"><div class="navbar-header"><a href="http://thecodebarbarian.com" class="navbar-brand big-brand"><img src="/images/Barbarian_Head.png" class="logo"/><span class="site-name">The Code Barbarian</span></a></div><div id="home-nav-mobile" class="navbar-right collapse navbar-collapse"><ul class="nav navbar-nav"><li><a href="/tag/mongodb.html">MongoDB</a></li><li><a href="/tag/angularjs.html">AngularJS</a></li><li><a href="/tag/nodejs.html">NodeJS</a></li><li><a href="/tag/asyncawait.html">Async/Await</a></li><li class="hidden-md hidden-lg"><a href="#">@code_barbarian</a></li><li class="hidden-md hidden-lg"><a href="#">TCB Github</a></li><li class="hidden-md hidden-lg"><a href="#">TCB Facebook</a></li></ul></div></div></div><div class="container-fluid"></div><div id="mobile-sharing-options" class="container-fluid hidden-sm hidden-md hidden-lg"><div class="row"><div class="col-lg-12"></div></div></div><div class="container"><div class="row"><div class="col-lg-9"><div class="container-fluid"><div class="row"><h2><a href="/mongoose-4.13-aggregation-middleware">What's New In Mongoose 4.13: Aggregation Middleware</a></h2><div class="title-byline-container"><div class="credits">November 17, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/4qSvIRF.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://github.com/Automattic/mongoose/blob/master/History.md#4130--2017-11-02">Mongoose 4.13</a> was released a couple weeks ago, with support for a powerful new feature: <a href="http://mongoosejs.com/docs/middleware.html">middleware</a> for aggregation. The primary motivation for this feature was to enable plugins like <a href="https://www.npmjs.com/package/mongoose-explain">mongoose-explain</a> to work with <code>aggregate()</code>, as well as enabling us to refactor <a href="http://mongoosejs.com/docs/discriminators.html">discriminators</a> to be a plugin. Aggregation middleware is a natural complement to query middleware, it lets you apply a lot of the use cases for hooks like <code>pre(&#39;find&#39;)</code> and <code>post(&#39;updateOne&#39;)</code> to aggregation. In this article, I&#39;ll demonstrate using aggregation middleware to enforce soft deletes, and explain how aggregation middleware works with <a href="http://mongoosejs.com/docs/api.html#aggregate_Aggregate-cursor">aggregation cursors</a>.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/mongoose-4.13-virtual-populate-dynamic-refs-fields">What's New In Mongoose 4.13: Dynamic Refs and Fields for Virtual Populate</a></h2><div class="title-byline-container"><div class="credits">November 09, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/CSVk0mm.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://github.com/Automattic/mongoose/blob/master/History.md#4130--2017-11-02">Mongoose 4.13</a> was released last week. As usual, its packed with powerful new features. The most exciting new feature is the ability to set <code>localField</code>, <code>foreignField</code>, and <code>ref</code> dynamically for <a href="http://mongoosejs.com/docs/populate.html#populate-virtuals">virtual populate</a>. The syntax for virtual populate&#39;s dynamic properties is slightly different than the one for <a href="http://mongoosejs.com/docs/populate.html#dynamic-ref">conventional populate</a>, but we think this new syntax is much more powerful.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/mutual-exclusion-patterns-with-node-promises">Mutual Exclusion Patterns with Node.js Promises</a></h2><div class="title-byline-container"><div class="credits">November 02, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/H9gu8x5.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>One of the most compelling reasons for <a href="http://thecodebarbarian.com/80-20-guide-to-async-await-in-node.js">async/await</a> is the fact that async functions generally feel like simplified threads, or threads with predictable interrupts. There are numerous</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/mongoose-4.12-custom-query-function-errors">What's New in Mongoose 4.12: Errors for Custom Query Functions</a></h2><div class="title-byline-container"><div class="credits">October 25, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/5iuaDxY.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="http://thecodebarbarian.com/mongoose-custom-query-methods">Mongoose 4.5 introduced custom query methods</a>, which</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/mongoose-4.12-improved-connection-events">What's New in Mongoose 4.12: Improved Connection Events</a></h2><div class="title-byline-container"><div class="credits">October 17, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/yMoUYaQ.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>I previously wrote about <a href="http://thecodebarbarian.com/managing-connections-with-the-mongodb-node-driver.html">handling the database server going down with the MongoDB Node.js driver</a>.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/mongoose-4.12-single-embedded-discriminators">What's New in Mongoose 4.12: Single Embedded Discriminators</a></h2><div class="title-byline-container"><div class="credits">October 12, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/1mS7e2f.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>In Mongoose 4.8 we added support for</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/casting-and-validating-geojson-with-archetype">Casting and Validating GeoJSON With Archetype</a></h2><div class="title-byline-container"><div class="credits">October 04, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/uboKEWQ.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://en.wikipedia.org/wiki/GeoJSON">GeoJSON</a> is a powerful standard for</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/managing-connections-with-the-mongodb-node-driver">Managing Connections with the MongoDB Node.js Driver</a></h2><div class="title-byline-container"><div class="credits">September 27, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/urAxn05.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>Too often, MongoDB REST API developers don&#39;t think about handling database outages until they have an outage in production. Usually you can get away with this because version 2.x of the MongoDB Node.js driver does most of the work for you: it handles attempting to reconnect and can buffer operations for you so you don&#39;t get errors during a temporary outage. However, the MongoDB Node.js driver has a lot of tunable options and corresponding subtleties that you need to be aware of. In this article, I&#39;ll cover the basics of what happens when your backend MongoDB topology goes down for single server and replica sets, so you can configure the driver to do the right thing for your use case.</p>
</em></div></div></div></div></div><div class="row"><div class="pull-left"><a href="/page/6"><< Newer Articles</a></div><div class="pull-right"><a href="/page/8">Older Articles >></a></div></div></div><style>.native-js {
  visibility: hidden;
  transition: all .25s ease-in-out;
  opacity: 0;
  flex-flow: column nowrap;
  transform: translateY(calc(100% - 35px));
  max-width: 100%;
  }
  
  .native-show {
  visibility: visible;
  position: fixed;
  width: 100%;
  bottom: 0;
  box-shadow: 0 -1px 4px 1px hsla(0, 0%, 0%, .15);
  opacity: 1;
  z-index: 10;
  }
  
  .native-show:hover {
  transform: translateY(0);
  }
  
  .native-img {
  margin-right: 20px;
  max-height: 50px;
  border-radius: 3px;
  width: auto;
  }
  
  .native-sponsor {
  margin: 10px 20px;
  text-align: center;
  text-transform: uppercase;
  transform-origin: left;
  letter-spacing: .5px;
  transition: all .3s ease-in-out;
  font-size: 12px;
  }
  
  .native-show:hover .native-sponsor {
  transform: scaleY(0);
  margin: 0 20px;
  opacity: 0;
  }
  
  .native-flex {
  display: flex;
  padding: 20px 20px 40px;
  text-decoration: none;
  
  flex-flow: row nowrap;
  justify-content: space-between;
  align-items: center;
  }
  
  .native-main {
  display: flex;
  
  flex-flow: row nowrap;
  align-items: center;
  }
  
  .native-details {
  display: flex;
  margin-right: 30px;
  
  flex-flow: column nowrap;
  }
  
  .native-company {
  margin-bottom: 4px;
  text-transform: uppercase;
  letter-spacing: 2px;
  font-size: 10px;
  }
  
  .native-desc {
  letter-spacing: 1px;
  font-weight: 300;
  line-height: 1.4;
  }
  
  .native-cta {
  padding: 10px 14px;
  border-radius: 3px;
  box-shadow: 0 6px 13px 0 hsla(0, 0%, 0%, .15);
  text-transform: uppercase;
  white-space: nowrap;
  letter-spacing: 1px;
  font-weight: 400;
  font-size: 12px;
  transition: all .3s ease-in-out;
  transform: translateY(-1px);
  }
  
  .native-cta:hover {
  box-shadow: none;
  transform: translateY(1px);
  }
  
  @media only screen and (min-width: 320px) and (max-width: 759px) {
  .native-flex {
    flex-wrap: wrap;
    flex-direction: column;
  }
  
  .native-img {
    margin: 0;
  }
  
  .native-details {
    margin: 0;
  }
  
  .native-main {
    margin-bottom: 20px;
    flex-wrap: wrap;
    flex-direction: column;
    text-align: center;
    align-content: center;
  }
  }
  </style><div class="native-js"><script type="text/javascript" src="/js/native.js"></script>

<script type="text/javascript">
  _native.init("CK7DT53N", {
    targetClass: 'native-js',
    display: 'flex',
    visibleClass: 'native-show'
  });
</script>

<div class="native-sponsor">Sponsored by #native_company# - Learn More</div>
<a href="#native_link#" class="native-flex">
  <style>
  .native-js {
    background: linear-gradient(-30deg, #native_bg_color#E5, #native_bg_color#E5 45%, #native_bg_color# 45%) #fff;
  }
  
  .native-details,
  .native-sponsor,
  .native-bsa {
    color: #native_color# !important;
  }
  
  .native-details:hover {
    color: #native_color_hover# !important;
  }
  
  .native-cta {
    color: #native_cta_color#;
    background-color: #native_cta_bg_color#;
  }
  
  .native-cta:hover {
    color: #native_cta_color_hover;
    background-color: #native_cta_bg_color_hover#;
  }
  </style>
  <div class="native-main">
    <img class="native-img" src="#native_logo#">
    <div class="native-details">
      <span class="native-company">#native_title#</span>
      <span class="native-desc">#native_desc#</span>
    </div>
  </div>
  <span class="native-cta">#native_cta#</span>
</a></div><div style="padding-bottom: 100px">&nbsp;</div><script type="text/javascript">!function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.0.1";
  analytics.load("5DErrxzVhprg8sNh8xaiKDR6dNa7yGTI");
  analytics.page()
}}();</script><link rel="stylesheet" href="/style/flexcpc.css"/></body></html>