<!DOCTYPE html><html><head><script type="text/javascript">var _sf_startpt=(new Date()).getTime()
</script><title>The Code Barbarian | www.thecodebarbarian.com</title><script data-ad-client="ca-pub-3363884883634732" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Merriweather:400,400italic,600,700" rel="stylesheet" type="text/css"><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"><link href="/style/style.css" rel="stylesheet" type="text/css"><link href="/style/github.css" rel="stylesheet" type="text/css"><script href="http://code.jquery.com/jquery-2.1.1.min.js" type="text/javascript"></script><script href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js" type="text/javascript"></script><script href="/javascript/sidebar.js" type="text/javascript"></script></head><body><div class="navbar social-links hidden-sm hidden-xs"><div class="container"><ul class="nav navbar-nav navbar-right"><li><a href="http://www.twitter.com/code_barbarian">twitter</a></li><li><a href="http://www.github.com/vkarpov15">github</a></li><li><a href="http://thecodebarbarian.com/feed.xml">rss</a></li><li><a href="/recommendations">recommendations</a></li></ul></div></div><div class="navbar" id="nav"><div class="container"><div class="navbar-header"><a class="navbar-brand big-brand" href="http://thecodebarbarian.com"><img class="logo" src="/images/Barbarian_Head.png"><span class="site-name">The Code Barbarian</span></a></div><div class="navbar-right collapse navbar-collapse" id="home-nav-mobile"><ul class="nav navbar-nav"><li><a href="/tag/mongodb.html">MongoDB</a></li><li><a href="/tag/nodejs.html">NodeJS</a></li><li><a href="/tag/asyncawait.html">Async/Await</a></li><li><a href="/tag/vue.html">Vue</a></li><li class="hidden-md hidden-lg"><a href="#">@code_barbarian</a></li><li class="hidden-md hidden-lg"><a href="#">TCB Github</a></li><li class="hidden-md hidden-lg"><a href="#">TCB Facebook</a></li></ul></div></div></div><div class="container-fluid"></div><div class="container-fluid hidden-sm hidden-md hidden-lg" id="mobile-sharing-options"><div class="row"><div class="col-lg-12"></div></div></div><div id="carbonads-fixed"><script type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&amp;serve=C6AILKT&amp;placement=thecodebarbariancom" id="_carbonads_js"></script></div><div class="container"><div class="col-lg-12 hero-row"><a href="/mongoose-internals-schemas-options-models.html"><div class="col-lg-8"><div class="row"><div class="col-lg-12 hero-image" style="background-image:url('https://codebarbarian-images.s3.amazonaws.com/IMG-0754.jpg');"></div><div class="row"><div class="col-lg-12"><h1 class="hero-title">Mongoose Internals: Compiling Models and Change Tracking</h1></div><div class="title-byline-container"><div class="hero-credits">June 14, 2021</div></div></div></div></div><div class="col-lg-4 home-popular"><p class="right-bar-label" id="home-popular-label">Most Popular <ul class="list-unstyled"><li class="right-bar-li"><a href="http://thecodebarbarian.com/common-async-await-design-patterns-in-node.js.html">Common Async/Await Design Patterns in Node.js</a></li><li class="right-bar-li"><a href="http://thecodebarbarian.com/unhandled-promise-rejections-in-node.js.html">Unhandled Promise Rejections in Node.js</a></li><li class="right-bar-li"><a href="http://thecodebarbarian.com/80-20-guide-to-async-await-in-node.js.html">The 80/20 Guide to Async/Await in Node.js</a></li><li class="right-bar-li"><a href="http://thecodebarbarian.com/getting-started-with-webassembly-in-node.js.html">Getting Started With WebAssembly in Node.js</a></li><li class="right-bar-li"><a href="http://thecodebarbarian.com/2015/01/24/angularjs-interceptors.html">An 80/20 Guide to AngularJS HTTP Interceptors</a></li></ul></p></div></a></div><div class="col-lg-12"><div class="row"><p class="home-grid-label">Most Recent</p></div><div class="col-lg-4 home-post-grid-member"><a href="/mongoose-internals-schemas-options-models.html"><div class="home-post-image" style="background-image:url('https://codebarbarian-images.s3.amazonaws.com/dv1.jpg');"></div><h3 class="home-post-title">Mongoose Internals: Schemas, Schema Options, and Models</h3><div class="home-date">April 21, 2021</div><div class="home-preview"><em><p>I&#39;ve gotten a lot of requests for a guide to Mongoose internals, because it&#39;s hard to contribute unless you have the</p>
</em></div></a></div><div class="col-lg-4 home-post-grid-member"><a href="/whats-new-in-mongoose-5-12-populate-transform.html"><div class="home-post-image" style="background-image:url('https://images.unsplash.com/photo-1512572525676-f9b59951929e?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=1852&amp;q=80');"></div><h3 class="home-post-title">What's New in Mongoose 5.12: Populate Transform</h3><div class="home-date">March 24, 2021</div><div class="home-preview"><em><p><a href="https://github.com/Automattic/mongoose/blob/master/History.md#5120--2021-03-11">Mongoose 5.12.0</a> was released on March 11, 2021. This new release includes a few neat new features. In this article, I&#39;d like to highlight a particularly useful</p>
</em></div></a></div><div class="col-lg-4 home-post-grid-member"><a href="/working-with-protobufs-in-node-js.html"><div class="home-post-image" style="background-image:url('/images/dv.jpeg');"></div><h3 class="home-post-title">Working with Protobufs in Node.js</h3><div class="home-date">February 24, 2021</div><div class="home-preview"><em><p><a href="https://developers.google.com/protocol-buffers">Protobuf</a> is a neat format for serializing and deserializing objects. Like <a href="/the-80-20-guide-to-json-stringify-in-javascript">JSON</a>, but with several key tradeoffs. Here&#39;s how you can use protobufs in Node.js, including how to use them with <a href="http://expressjs.com/">Express</a>.</p>
</em></div></a></div><div class="col-lg-4 home-post-grid-member"><a href="/getting-started-with-apache-kafka-in-node-js.html"><div class="home-post-image" style="background-image:url('/images/was3.jpg');"></div><h3 class="home-post-title">Getting Started with Apache Kafka in Node.js</h3><div class="home-date">February 11, 2021</div><div class="home-preview"><em><p><a href="https://kafka.apache.org/">Apache Kafka</a> is a popular platform for streaming and pub/sub. It is very common at large companies with massive engineering teams, and less common at smaller companies. That is because, unlike many other alternatives in the message queue space, Kafka focuses on being a high performance write log without strictly enforcing message receipt. In other words, Kafka is less of a traditional message queue and more like a distributed <a href="https://nodejs.org/api/events.html#events_class_eventemitter">event emitter</a>, which is great for cases where you may have dozens of different services looking at a particular message.</p>
</em></div></a></div><div class="col-lg-4 home-post-grid-member"><a href="/practical-aspect-oriented-programming-in-javascript.html"><div class="home-post-image" style="background-image:url('/images/keybiscayne4.jpg');"></div><h3 class="home-post-title">Practical Aspect Oriented Programming in JavaScript</h3><div class="home-date">January 05, 2021</div><div class="home-preview"><em><p><a href="https://en.wikipedia.org/wiki/Aspect-oriented_programming">Aspect oriented programming</a> is a relatively new (early 2000s) design paradigm that makes code more modular by allowing you to add additional implicit behavior to existing functions in a controlled way. A more concrete example that Wikipedia uses</p>
</em></div></a></div><div class="col-lg-4 home-post-grid-member"><a href="/whats-new-in-mongoose-5-11-custom-casting-for-paths.html"><div class="home-post-image" style="background-image:url('/images/keybiscayne3.jpg');"></div><h3 class="home-post-title">What's New in Mongoose 5.11: Custom Casting for Paths</h3><div class="home-date">December 09, 2020</div><div class="home-preview"><em><p><a href="https://github.com/Automattic/mongoose/blob/master/History.md#5110--2020-11-30">Mongoose 5.11.0 was released on November 30, 2020</a> and includes 17 new features, including 5 community contributions. The biggest</p>
</em></div></a></div><div class="row"><div class="pull-right"><a href="/page/1">Older Articles >></a></div></div></div><div class="col-lg-12"><p class="home-grid-label" style="margin-top: 2em">Sponsors</p><div class="row"><div class="col-lg-4" style="padding: 2em; text-align: center;"><a href="https://www.casimoose.ca/" rel="sponsored"><img src="https://codebarbarian-images.s3.amazonaws.com/casimoose.png" style="max-height: 100px"></a></div><div class="col-lg-4" style="padding: 2em; text-align: center;"><a href="https://honeyhost.net/" rel="sponsored"><img src="https://images.opencollective.com/honeyhost/f8f8880/logo/256.png" style="max-height: 100px"></a></div></div><div style="margin-left: 2em; font-size: 0.9em">Sponsor <a href="https://opencollective.com/thecodebarbarian">The Code Barbarian on OpenCollective</a> to get your company's logo above!</div></div></div><style>.native-js {
  visibility: hidden;
  transition: all .25s ease-in-out;
  opacity: 0;
  flex-flow: column nowrap;
  transform: translateY(calc(100% - 35px));
  max-width: 100%;
  }

  .native-show {
  visibility: visible;
  position: fixed;
  width: 100%;
  bottom: 0;
  box-shadow: 0 -1px 4px 1px hsla(0, 0%, 0%, .15);
  opacity: 1;
  z-index: 10;
  }

  .native-show:hover {
  transform: translateY(0);
  }

  .native-img {
  margin-right: 20px;
  max-height: 50px;
  border-radius: 3px;
  width: auto;
  }

  .native-sponsor {
  margin: 10px 20px;
  text-align: center;
  text-transform: uppercase;
  transform-origin: left;
  letter-spacing: .5px;
  transition: all .3s ease-in-out;
  font-size: 12px;
  }

  .native-show:hover .native-sponsor {
  transform: scaleY(0);
  margin: 0 20px;
  opacity: 0;
  }

  .native-flex {
  display: flex;
  padding: 20px 20px 40px;
  text-decoration: none;

  flex-flow: row nowrap;
  justify-content: space-between;
  align-items: center;
  }

  .native-main {
  display: flex;

  flex-flow: row nowrap;
  align-items: center;
  }

  .native-details {
  display: flex;
  margin-right: 30px;

  flex-flow: column nowrap;
  }

  .native-company {
  margin-bottom: 4px;
  text-transform: uppercase;
  letter-spacing: 2px;
  font-size: 10px;
  }

  .native-desc {
  letter-spacing: 1px;
  font-weight: 300;
  line-height: 1.4;
  }

  .native-cta {
  padding: 10px 14px;
  border-radius: 3px;
  box-shadow: 0 6px 13px 0 hsla(0, 0%, 0%, .15);
  text-transform: uppercase;
  white-space: nowrap;
  letter-spacing: 1px;
  font-weight: 400;
  font-size: 12px;
  transition: all .3s ease-in-out;
  transform: translateY(-1px);
  }

  .native-cta:hover {
  box-shadow: none;
  transform: translateY(1px);
  }

  @media only screen and (min-width: 320px) and (max-width: 759px) {
  .native-flex {
    flex-wrap: wrap;
    flex-direction: column;
  }

  .native-img {
    margin: 0;
  }

  .native-details {
    margin: 0;
  }

  .native-main {
    margin-bottom: 20px;
    flex-wrap: wrap;
    flex-direction: column;
    text-align: center;
    align-content: center;
  }
  }</style><div style="padding-bottom: 100px">&nbsp;</div><script type="text/javascript">var xhr = new XMLHttpRequest();
xhr.open('POST', 'https://g0a3nbw0xa.execute-api.us-east-1.amazonaws.com/prod/track', true);
xhr.setRequestHeader('Content-Type', 'application/json');
xhr.onreadystatechange = function() {};
xhr.send(JSON.stringify({
  path: window.location.pathname,
  hostname: window.location.hostname
}));</script></body></html>