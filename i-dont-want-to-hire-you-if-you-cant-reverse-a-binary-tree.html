<html><head><script type="text/javascript">var _sf_startpt=(new Date()).getTime()
</script><title>I Don't Want To Hire You If You Can't Reverse a Binary Tree | www.thecodebarbarian.com</title><meta name="viewport" content="width=device-width, initial-scale=1"/><link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" type="text/css"/><link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600" rel="stylesheet" type="text/css"/><link href="//fonts.googleapis.com/css?family=Merriweather:400,400italic,600,700" rel="stylesheet" type="text/css"/><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/><link href="/style/style.css" rel="stylesheet" type="text/css"/><link href="/style/github.css" rel="stylesheet" type="text/css"/><script href="http://code.jquery.com/jquery-2.1.1.min.js" type="text/javascript"></script><script href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js" type="text/javascript"></script><script href="/javascript/sidebar.js" type="text/javascript"></script><meta property="og:title" content="I Don't Want To Hire You If You Can't Reverse a Binary Tree"/><meta property="og:url" content="http://www.thecodebarbarian.com/i-dont-want-to-hire-you-if-you-cant-reverse-a-binary-tree"/><meta property="og:image" content="http://i.imgur.com/xK5Inwu.jpg"/><meta property="og:site_name" content="The Code Barbarian"/></head><body><div class="navbar social-links hidden-sm hidden-xs"><div class="container"><ul class="nav navbar-nav navbar-right"><li><a href="http://www.twitter.com/code_barbarian">twitter</a></li><li><a href="http://www.github.com/vkarpov15">github</a></li><li><a href="http://thecodebarbarian.com/feed.xml">rss</a></li><li><a href="/recommendations">recommendations</a></li></ul></div></div><div id="nav" class="navbar"><div class="container"><div class="navbar-header"><a href="http://thecodebarbarian.com" class="navbar-brand big-brand"><img src="/images/Barbarian_Head.png" class="logo"/><span class="site-name">The Code Barbarian</span></a></div><div id="home-nav-mobile" class="navbar-right collapse navbar-collapse"><ul class="nav navbar-nav"><li><a href="/tag/mongodb.html">MongoDB</a></li><li><a href="/tag/angularjs.html">AngularJS</a></li><li><a href="/tag/nodejs.html">NodeJS</a></li><li><a href="/tag/asyncawait.html">Async/Await</a></li><li class="hidden-md hidden-lg"><a href="#">@code_barbarian</a></li><li class="hidden-md hidden-lg"><a href="#">TCB Github</a></li><li class="hidden-md hidden-lg"><a href="#">TCB Facebook</a></li></ul></div></div></div><div class="container-fluid"><div id="desktop-right-bar" class="col-lg-3 col-lg-offset-9 right-bar"><div class="right-bar-content-slider pull-right"><div class="row recent-posts right-bar-group"><div class="col-lg-12 articles"><p class="right-bar-label">Most Popular Articles</p><ul class="list-unstyled"><li class="right-bar-li"><a href="/common-async-await-design-patterns-in-node.js.html">Common Async/Await Design Patterns in Node.js</a></li><li class="right-bar-li"><a href="/unhandled-promise-rejections-in-node.js.html">Unhandled Promise Rejections in Node.js</a></li><li class="right-bar-li"><a href="/using-async-await-with-mocha-express-and-mongoose">Using Async/Await with Mocha, Express, and Mongoose</a></li><li class="right-bar-li"><a href="/write-your-own-node-js-promise-library-from-scratch.html">Write Your Own Node.js Promise Library from Scratch</a></li><li class="right-bar-li"><a href="/80-20-guide-to-express-error-handling">The 80/20 Guide to Express Error Handling</a></li></ul></div></div><div class="row recent-posts right-bar-group"><div class="col-lg-12 books"><p class="right-bar-label">Ebooks<div><a href="http://asyncawait.net/?utm_source=thecodebarbarian&amp;utm_campaign=sidebar"><img src="/images/verticalbanner.png"/></a></div><div><a href="http://es2015generators.com"><img src="https://i.imgur.com/xvGNKlr.png"/><p><i>The 80/20 Guide to ES2015 Generators</i></p></a></div><div><script type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&amp;serve=C6AILKT&amp;placement=thecodebarbariancom" id="_carbonads_js"></script></div></p></div></div></div></div></div><div id="mobile-sharing-options" class="container-fluid hidden-sm hidden-md hidden-lg"><div class="row"><div class="col-lg-12"><style>#home-nav-mobile {
  float: left !important;
  margin-left: 215px !important;
}
</style><div class="post-sharing-options"><div class="row"><div class="col-xs-3 twitter-share sharing-option"><a href="https://twitter.com/share?url=http%3A%2F%2Fwww.thecodebarbarian.com%2Fi-dont-want-to-hire-you-if-you-cant-reverse-a-binary-tree&amp;via=code_barbarian" class="social"><i class="fa fa-twitter"></i></a></div><div class="col-xs-3 facebook-share sharing-option"><a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.thecodebarbarian.com%2F%2Fi-dont-want-to-hire-you-if-you-cant-reverse-a-binary-tree" class="social"><i class="fa fa-facebook"></i></a></div><div class="col-xs-3 google-share sharing-option"><a href="https://plus.google.com/share?url=http%3A%2F%2Fwww.thecodebarbarian.com%2F%2Fi-dont-want-to-hire-you-if-you-cant-reverse-a-binary-tree" class="social"><i class="fa fa-google-plus"></i></a></div><div class="col-xs-3 comment sharing-option"><a href="#disqus_thread" class="social"><i class="fa fa-comment"></i></a></div></div></div></div></div></div><div id="desktop-sharing-options" class="post-sharing-options hidden-xs pull-left"><ul class="list-unstyled"><li class="twitter-share"><a href="https://twitter.com/share?url=http%3A%2F%2Fwww.thecodebarbarian.com%2Fi-dont-want-to-hire-you-if-you-cant-reverse-a-binary-tree&amp;via=code_barbarian" class="social"><i class="fa fa-twitter sharing-option"></i></a></li><li class="facebook-share"><a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.thecodebarbarian.com%2F%2Fi-dont-want-to-hire-you-if-you-cant-reverse-a-binary-tree" class="social"><i class="fa fa-facebook sharing-option"></i></a></li><li class="google-share"><a href="https://plus.google.com/share?url=http%3A%2F%2Fwww.thecodebarbarian.com%2F%2Fi-dont-want-to-hire-you-if-you-cant-reverse-a-binary-tree" class="social"><i class="fa fa-google-plus sharing-option"></i></a></li></ul></div><div class="container"><div class="col-lg-9 post-text"><div class="row"><div class="title-byline-container"><h1 class="post-title">I Don't Want To Hire You If You Can't Reverse a Binary Tree</h1><div class="credits"><span class="byline">by Valeri Karpov</span><span class="byhandle"><a href="http://www.twitter.com/code_barbarian">@code_barbarian</a></span><span class="bydate">April 22, 2016</span></div></div></div><script type="text/javascript" src="/js/native.js"></script><div><script>
  _native.init("CK7DT53N",{
    targetClass: 'native-inline'
  });
</script>

<div class="native-inline">
  <a href="#native_link#"><span class="sponsor">Sponsor</span> #native_company# - #native_desc#</a>
</div>
</div><div class="post-body-text-container"><p>The practice of asking brainteasers in interviews is a common punching bag
for pundits. Last summer, Hacker News blew up over the following exceptionally
insightful tweet on the topic.</p>
<p><blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">Google: 90% of our engineers use the software you wrote (Homebrew), but you canâ€™t invert a binary tree on a whiteboard so fuck off.</p>&mdash; Max Howell (@mxcl) <a href="https://twitter.com/mxcl/status/608682016205344768">June 10, 2015</a></blockquote></p>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>First of all, don&#39;t get me wrong,
<a href="https://www.youtube.com/watch?v=Dn57D8lNQWk#t=12m25s">I think homebrew is an awful piece of software that should never be used by anyone</a>.
Homebrew is like herpes: you pay for your moment of instant
gratification with a lifetime of burning pain.</p>
<p>That being said, this tweet struck close to home for me because inverting a
binary tree is a small part of an interview question that I&#39;ve asked hundreds
of interns, junior engineers, and even a former Goldman Sachs VP over the last
several years. I&#39;m retiring this question from my pool of brainteasers, because
I&#39;ve asked it far too many times already. However, I think it&#39;s a good example
of how asking a neat algorithms question can tell you a lot about what kind of
work somebody will produce.</p>
<h1 id="how-do-you-compute-whether-a-binary-tree-is-symmetric-">How Do You Compute Whether a Binary Tree is Symmetric?</h1>
<p>Intuitively, it&#39;s easy to tell whether a binary tree is symmetric. Here&#39;s
a few small trees courtesy of the fine people at
<a href="http://mathworld.wolfram.com/">Wolfram MathWorld</a>. The trees at row 1 column 1,
row 2 column 3, row 4 column 5, row 5 column 1, and row 5 column 7 are
symmetric, the rest aren&#39;t.</p>
<p><a href="http://mathworld.wolfram.com/images/eps-gif/BinaryTrees_800.gif">
  <img src="http://mathworld.wolfram.com/images/eps-gif/BinaryTrees_800.gif">
</a></p>
<p>The task is to write a function, that, given a binary tree, returns true
if it is symmetric. I always leave the choice of language up to the interviewee,
because a good solution should be easy to understand in most languages.</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isSymmetric</span>(<span class="hljs-params">root</span>) </span>{
  <span class="hljs-comment">// Check root.left, root.right, return true if symmetric</span>
}
</code></pre>
<p>Here&#39;s the first reason why this question is so good: a skilled
programmer can map their intuition to code. You can tell
at a glance whether a binary tree is symmetric, but beginners will often
struggle with a question like this because they approach this
problem from a visual/intuitive angle rather than the logical angle.</p>
<p>The logical angle is &quot;what does it mean for a tree to be symmetric?&quot; In
other words, a novice programmer may attempt to map their visual process for
determining symmetry. The end result is a tangled mess of code. Most good
programmers will instead think about how to define symmetry using a simple
recurrence relationship. In other words, as Linus Torvalds once said:</p>
<p>&quot;Bad programmers worry about the code. Good programmers worry about data structures and their relationships.&quot;</p>
<p>The definition typically involves two steps. The first step is to realize
that a tree is symmetric if its left and right subtrees are symmetric.
There&#39;s two definitions that most successful solutions end up with for what
it means for two trees to be symmetric:</p>
<ul>
<li>The purely recursive definition: two binary trees <code>t1</code> and <code>t2</code> are symmetric  iff <code>t1.left</code> and <code>t2.right</code>are symmetric, and <code>t1.right</code> and <code>t2.left</code> are symmetric.</li>
<li>The two-step definition: two binary trees <code>t1</code> and <code>t2</code> are symmetric if
the reverse of <code>t2</code> is equal to <code>t1</code>.</li>
</ul>
<p>The first definition leads to the most concise solution:</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isSymmetric</span>(<span class="hljs-params">root</span>) </span>{
  <span class="hljs-keyword">return</span> isSymmetricHelper(root.left, root.right);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isSymmetricHelper</span>(<span class="hljs-params">t1, t2</span>) </span>{
  <span class="hljs-keyword">if</span> (t1 == <span class="hljs-literal">null</span> &amp;&amp; t2 == <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }
  <span class="hljs-keyword">if</span> (t1 == <span class="hljs-literal">null</span> || t2 == <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }
  <span class="hljs-keyword">return</span> isSymmetricHelper(t1.left, t2.right) &amp;&amp;
    isSymmetricHelper(t1.right, t2.left);
}
</code></pre>
<p>The second definition requires reversing a binary tree and then comparing
if two binary trees are equal. This is the solution that requires reversing
a binary tree on the whiteboard, and the one that most intern candidates end
up using to solve the problem in 20 minutes.</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isSymmetric</span>(<span class="hljs-params">root</span>) </span>{
  <span class="hljs-keyword">return</span> isEqual(reverse(root.left), root.right);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">reverse</span>(<span class="hljs-params">t</span>) </span>{
  <span class="hljs-keyword">if</span> (t == <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-keyword">var</span> tmp = t.left;
  t.left = reverse(t.right);
  t.right = reverse(tmp);
  <span class="hljs-keyword">return</span> t;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isEqual</span>(<span class="hljs-params">t1, t2</span>) </span>{
  <span class="hljs-keyword">if</span> (t1 == <span class="hljs-literal">null</span> &amp;&amp; t2 == <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }
  <span class="hljs-keyword">if</span> (t1 == <span class="hljs-literal">null</span> || t2 == <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }
  <span class="hljs-keyword">return</span> isEqual(t1.left, t2.left) &amp;&amp; isEqual(t1.right, t2.right);
}
</code></pre>
<h1 id="why-is-this-important-">Why Is This Important?</h1>
<p>Trees are the single most important data structure in computer science.
Just about everything you do in your programming career will be related
to trees. For example, let&#39;s take a look at your average full stack
web developer. They store their data in a database,
<a href="https://en.wikipedia.org/wiki/B-tree#Advantages_of_B-tree_usage_for_databases">which is just a collection of B-trees</a>. They typically think of the data they work with as JSON objects,
Python dicts, or Ruby hashes, which are all trees. On the frontend, they
take their JSON objects and render them to the DOM, which is also a tree.
Maybe they even use React components, which are organized in a tree.</p>
<p>Can you be a good engineer without knowing anything about trees? An
appropriate analogy would be, can you be a good doctor without knowing
anything about what a heart is? Despite that the heart is
pivotal to how the human body works, in theory you could become a
leading knee surgeon without knowing anything about it.
In practice, I&#39;m sure the <a href="http://www.mensjournal.com/magazine/the-body-that-heals-itself-20140217">Dr. Peter Wehlings</a> of the world have forgotten more about the heart than I will ever learn
in my lifetime. After all, how do you come up with a medical procedure based
on transfusing an extract of the patient&#39;s blood into their knee to reduce
arthritis without knowing anything about the circulatory system?</p>
<p>Skill in software engineering, like skill in any subject, is not cultivated
by limiting yourself to a narrow set of knowledge and challenges. The kind
of engineer that I want to work with is someone who takes the initiative to
try out the unknown and take on new challenges, not someone who sits around
whining &quot;nobody told me to!&quot;
And just like odds are you aren&#39;t a leading knee surgeon if you don&#39;t know
what a heart is, you&#39;re probably not the kind of engineer I&#39;d like on my team.</p>
</div><div style="color: #666666; border-top: 1px dashed #666666; margin: 25px; text-align: center; padding-top: 10px"><em>Found a typo or error? Open up a pull request! This post is
available as markdown on&nbsp;<a href="https://github.com/vkarpov15/thecodebarbarian.com/blob/master/lib/posts/20160422_binary_tree.md">Github</a></em></div><div id="disqus_thread"></div><script type="text/javascript">/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'codebarbarian'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></div></div><div style="padding-bottom: 100px">&nbsp;</div><script type="text/javascript">var xhr = new XMLHttpRequest();
xhr.open('POST', 'https://g0a3nbw0xa.execute-api.us-east-1.amazonaws.com/prod/track', true);
xhr.setRequestHeader('Content-Type', 'application/json');
xhr.onreadystatechange = function() {};
xhr.send(JSON.stringify({
  path: window.location.pathname,
  hostname: window.location.hostname
}));</script><link rel="stylesheet" href="/style/inlinecpc.css"/></body></html>