<!DOCTYPE html><html><head><script type="text/javascript">var _sf_startpt=(new Date()).getTime()
</script><title>The 80/20 Guide to JavaScript Arrays | www.thecodebarbarian.com</title><meta name="viewport" content="width=device-width, initial-scale=1"><link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Merriweather:400,400italic,600,700" rel="stylesheet" type="text/css"><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"><link href="/style/style.css" rel="stylesheet" type="text/css"><link href="/style/github.css" rel="stylesheet" type="text/css"><script href="http://code.jquery.com/jquery-2.1.1.min.js" type="text/javascript"></script><script href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js" type="text/javascript"></script><script href="/javascript/sidebar.js" type="text/javascript"></script><meta property="og:title" content="The 80/20 Guide to JavaScript Arrays"><meta property="og:url" content="http://www.thecodebarbarian.com/the-80-20-guide-to-javascript-arrays"><meta property="og:image" content="https://codebarbarian-images.s3.amazonaws.com/20190611_bijela.jpg"><meta property="og:site_name" content="The Code Barbarian"><meta property="description" content="[JavaScript arrays](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array) are an essential part of the language. Fundamentally, an array is a value that stores an ordered list of other values. But JavaScript arrays come with a lot of nuances and surprises. In this article, I'll provide an overview of what you need to know about JavaScript arrays."><meta name="twitter:image" content="https://codebarbarian-images.s3.amazonaws.com/20190611_bijela.jpg"></head><body><div class="navbar social-links hidden-sm hidden-xs"><div class="container"><ul class="nav navbar-nav navbar-right"><li><a href="http://www.twitter.com/code_barbarian">twitter</a></li><li><a href="http://www.github.com/vkarpov15">github</a></li><li><a href="http://thecodebarbarian.com/feed.xml">rss</a></li><li><a href="/recommendations">recommendations</a></li></ul></div></div><div class="navbar" id="nav"><div class="container"><div class="navbar-header"><a class="navbar-brand big-brand" href="http://thecodebarbarian.com"><img class="logo" src="/images/Barbarian_Head.png"><span class="site-name">The Code Barbarian</span></a></div><div class="navbar-right collapse navbar-collapse" id="home-nav-mobile"><ul class="nav navbar-nav"><li><a href="/tag/mongodb.html">MongoDB</a></li><li><a href="/tag/nodejs.html">NodeJS</a></li><li><a href="/tag/asyncawait.html">Async/Await</a></li><li><a href="/tag/vue.html">Vue</a></li><li class="hidden-md hidden-lg"><a href="#">@code_barbarian</a></li><li class="hidden-md hidden-lg"><a href="#">TCB Github</a></li><li class="hidden-md hidden-lg"><a href="#">TCB Facebook</a></li></ul></div></div></div><div class="container-fluid"><div class="col-lg-3 col-lg-offset-9 right-bar" id="desktop-right-bar"><div class="right-bar-content-slider pull-right"><div class="row recent-posts right-bar-group"><div class="col-lg-12 articles"><p class="right-bar-label">Most Popular Articles</p><ul class="list-unstyled"><li class="right-bar-li"><a href="/common-async-await-design-patterns-in-node.js.html">Common Async/Await Design Patterns in Node.js</a></li><li class="right-bar-li"><a href="/unhandled-promise-rejections-in-node.js.html">Unhandled Promise Rejections in Node.js</a></li><li class="right-bar-li"><a href="/using-async-await-with-mocha-express-and-mongoose">Using Async/Await with Mocha, Express, and Mongoose</a></li><li class="right-bar-li"><a href="/write-your-own-node-js-promise-library-from-scratch.html">Write Your Own Node.js Promise Library from Scratch</a></li><li class="right-bar-li"><a href="/80-20-guide-to-express-error-handling">The 80/20 Guide to Express Error Handling</a></li></ul></div></div><div class="row recent-posts right-bar-group"><div class="col-lg-12 books"><p class="right-bar-label">Ebooks<div><a href="http://asyncawait.net/?utm_source=thecodebarbarian&amp;utm_campaign=sidebar"><img src="/images/verticalbanner.png"></a></div><div><a href="http://es2015generators.com"><img src="https://i.imgur.com/xvGNKlr.png"><p><i>The 80/20 Guide to ES2015 Generators</i></p></a></div><div><script type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&amp;serve=C6AILKT&amp;placement=thecodebarbariancom" id="_carbonads_js"></script></div></p></div></div></div></div></div><div class="container-fluid hidden-sm hidden-md hidden-lg" id="mobile-sharing-options"><div class="row"><div class="col-lg-12"><style>#home-nav-mobile {
  float: left !important;
  margin-left: 215px !important;
}
</style><div class="post-sharing-options"><div class="row"><div class="col-xs-3 twitter-share sharing-option"><a class="social" href="https://twitter.com/share?url=#{encodeURIComponent('http://www.thecodebarbarian.com' + post.dest.directory.substr('./bin'.length) + '/' + post.dest.name)}&amp;via=code_barbarian"><i class="fa fa-twitter"></i></a></div><div class="col-xs-3 facebook-share sharing-option"><a class="social" href="https://www.facebook.com/sharer/sharer.php?u=#{encodeURIComponent('http://www.thecodebarbarian.com/' + post.dest.directory.substr('./bin'.length) + '/' + post.dest.name)}"><i class="fa fa-facebook"></i></a></div><div class="col-xs-3 google-share sharing-option"><a class="social" href="https://plus.google.com/share?url=#{encodeURIComponent('http://www.thecodebarbarian.com/' + post.dest.directory.substr('./bin'.length) + '/' + post.dest.name)}"><i class="fa fa-google-plus"></i></a></div><div class="col-xs-3 comment sharing-option"><a class="social" href="#disqus_thread"><i class="fa fa-comment"></i></a></div></div></div></div></div></div><div class="post-sharing-options hidden-xs pull-left" id="desktop-sharing-options"><ul class="list-unstyled"><li class="twitter-share"><a class="social" href="https://twitter.com/share?url=#{encodeURIComponent('http://www.thecodebarbarian.com' + post.dest.directory.substr('./bin'.length) + '/' + post.dest.name)}&amp;via=code_barbarian"><i class="fa fa-twitter sharing-option"></i></a></li><li class="facebook-share"><a class="social" href="https://www.facebook.com/sharer/sharer.php?u=#{encodeURIComponent('http://www.thecodebarbarian.com/' + post.dest.directory.substr('./bin'.length) + '/' + post.dest.name)}"><i class="fa fa-facebook sharing-option"></i></a></li><li class="google-share"><a class="social" href="https://plus.google.com/share?url=#{encodeURIComponent('http://www.thecodebarbarian.com/' + post.dest.directory.substr('./bin'.length) + '/' + post.dest.name)}"><i class="fa fa-google-plus sharing-option"></i></a></li></ul></div><div class="container"><div class="col-lg-9 post-text"><div class="row"><div class="title-byline-container"><h1 class="post-title">The 80/20 Guide to JavaScript Arrays</h1><div class="credits"><span class="byline">by Valeri Karpov</span><span class="byhandle"><a href="http://www.twitter.com/code_barbarian">@code_barbarian</a></span><span class="bydate">June 11, 2019</span></div></div></div><script type="text/javascript" src="/js/native.js"></script><div><script src="//m.servedby-buysellads.com/monetization.js" type="text/javascript"></script>

<div class="native-js"></div>

<script>
  (function(){
    if(typeof _bsa !== 'undefined' && _bsa) {
      _bsa.init('custom', 'CK7DT53N', 'placement:thecodebarbariancom', { target: '.native-js', template: `
  <a href="##link##" class="native-banner" style="background: linear-gradient(-30deg, ##backgroundColor##E5, ##backgroundColor##E5 45%, ##backgroundColor## 45%) #fff;">
    <div class="native-main">
      <img class="native-img" img src="##logo##">
      <div class="native-details" style="color: ##textColor##">
        <span class="native-company">Sponsored by ##company##</span>
        <span class="native-desc">##description##</span>
      </div>
      <span class="native-cta" style="color: ##ctaTextColor##; background-color: ##ctaBackgroundColor##;">##callToAction##</span>
    </div>
  </a>`, }
      );
    }
  })();
</script>
</div><div class="post-body-text-container"><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">JavaScript arrays</a> are an essential part of the language. Fundamentally, an array is a value that stores an ordered list of other values. But JavaScript arrays come with a lot of nuances and surprises. In this article, I&#39;ll provide an overview of what you need to know about JavaScript arrays.</p>
<h2 id="creating-arrays">Creating Arrays</h2>
<p>The most common way to create an array in JavaScript is using square brackets <code>[]</code>:</p>
<pre><code class="language-javascript"><span class="hljs-comment">// `arr` is an array with 3 elements</span>
<span class="hljs-keyword">const</span> arr = [<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>];

arr.length; <span class="hljs-comment">// 3</span>
arr[<span class="hljs-number">0</span>]; <span class="hljs-comment">// 'a'</span>
arr[<span class="hljs-number">1</span>]; <span class="hljs-comment">// 'b'</span>
arr[<span class="hljs-number">2</span>]; <span class="hljs-comment">// 'c'</span></code></pre>
<p>JavaScript also has a built-in <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array"><code>Array</code> class</a>. You may see the above array declared this way:</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>);

arr.length; <span class="hljs-comment">// 3</span>
arr[<span class="hljs-number">0</span>]; <span class="hljs-comment">// 'a'</span>
arr[<span class="hljs-number">1</span>]; <span class="hljs-comment">// 'b'</span>
arr[<span class="hljs-number">2</span>]; <span class="hljs-comment">// 'c'</span></code></pre>
<p>However, you should avoid using <code>new Array()</code> unless you have a very good reason to. That&#39;s because, if <code>new Array(v)</code> receives only one parameter and <code>v</code> is an integer between <code>0</code> and <code>2^31</code>, JavaScript will interpret that to mean you want to create an empty array of length <code>v</code>.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-number">5</span>);

arr.length; <span class="hljs-comment">// 5</span>
arr[<span class="hljs-number">0</span>]; <span class="hljs-comment">// undefined</span></code></pre>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/of">ES6 introduced an <code>Array.of()</code> function</a> that avoids this gotcha:</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> arr = <span class="hljs-built_in">Array</span>.of(<span class="hljs-number">5</span>);

arr.length; <span class="hljs-comment">// 1</span>
arr[<span class="hljs-number">0</span>]; <span class="hljs-comment">// 5</span></code></pre>
<h2 id="copying-arrays">Copying Arrays</h2>
<p>There&#39;s 4 common ways to copy an array. First, given an array <code>arr</code>, you can use the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/concat"><code>Array#concat()</code> function</a> to concat the values in <code>arr</code> onto an empty array:</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>];

<span class="hljs-keyword">const</span> arr2 = [].concat(arr);
arr2.length; <span class="hljs-comment">// 3</span>
arr2 === arr; <span class="hljs-comment">// false</span></code></pre>
<p>Second is the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice"><code>Array#slice()</code> function</a>. The <code>slice()</code> function also takes 2 parameters, a <code>begin</code> and an <code>end</code>.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>];

<span class="hljs-keyword">const</span> arr2 = arr.slice();
arr2.length; <span class="hljs-comment">// 3</span>
arr2 === arr; <span class="hljs-comment">// false</span>

<span class="hljs-comment">// Copy everything from index 1 onwards</span>
arr.slice(<span class="hljs-number">1</span>); <span class="hljs-comment">// ['b', 'c']</span>
<span class="hljs-comment">// Copy everything from index 0 to index 2, excluding index 2.</span>
arr.slice(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>); <span class="hljs-comment">// ['a', 'b']</span></code></pre>
<p><code>slice()</code> and <code>concat()</code> are the most common because they have wide browser support. <code>concat()</code> and <code>slice()</code> are in every modern browser and IE back to IE 5.5, so you&#39;re unlikely to find a JavaScript environment that doesn&#39;t have these functions. On the other hand, the next two array copying paradigms, <code>Array.from()</code> and spread syntax, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax#Browser_compatibility">are not supported in any version of Internet Explorer</a>.</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from">ES6 introduced an <code>Array.from()</code> function</a>. What makes <code>Array.from()</code> special is that it can convert an arbitrary JavaScript iterable into an array, including <a href="https://masteringjs.io/tutorials/fundamentals/map">maps</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set">sets</a>. Arrays are iterables, so you can use <code>Array.from()</code> to copy an array.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>];

<span class="hljs-keyword">const</span> arr2 = <span class="hljs-built_in">Array</span>.from(arr);
arr2.length; <span class="hljs-comment">// 3</span>
arr2 === arr; <span class="hljs-comment">// false</span></code></pre>
<p>Finally, ES6 also introduced <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax#A_better_way_to_concatenate_arrays">spread syntax for copying arrays</a>. Spread means <code>...arr</code> is syntactically equivalent to <code>&#39;a&#39;, &#39;b&#39;, &#39;c&#39;</code>, including for <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax#Spread_in_function_calls">function calls</a>.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>];

<span class="hljs-comment">// The '...' is spread syntax.</span>
<span class="hljs-keyword">const</span> arr2 = [...arr];
arr2.length; <span class="hljs-comment">// 3</span>
arr2 === arr; <span class="hljs-comment">// false</span></code></pre>
<h2 id="checking-if-a-value-is-an-array">Checking if a Value is an Array</h2>
<p>Do <strong>not</strong> use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/typeof">JavaScript&#39;s <code>typeof</code> operator</a> to check whether a value is an array. That&#39;s because arrays are technically objects:</p>
<pre><code class="language-javascript"><span class="hljs-keyword">typeof</span> []; <span class="hljs-comment">// 'object'</span></code></pre>
<p>The most common way to check whether a value is an array is the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray"><code>Array.isArray()</code> function</a>, which is supported in all modern browsers and IE since IE9.</p>
<pre><code class="language-javascript"><span class="hljs-built_in">Array</span>.isArray([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]); <span class="hljs-comment">// true</span>

<span class="hljs-built_in">Array</span>.isArray(<span class="hljs-literal">null</span>); <span class="hljs-comment">// false</span>
<span class="hljs-built_in">Array</span>.isArray(<span class="hljs-string">'test'</span>); <span class="hljs-comment">// false</span>
<span class="hljs-built_in">Array</span>.isArray({ <span class="hljs-number">0</span>: <span class="hljs-string">'test'</span> }); <span class="hljs-comment">// false</span></code></pre>
<p>You can also use the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/instanceof"><code>instanceof</code> operator</a> to check if a value is <code>instanceof Array</code>.</p>
<pre><code class="language-javascript">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>] <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span>; <span class="hljs-comment">// true</span>

<span class="hljs-literal">null</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span>; <span class="hljs-comment">// false</span>
<span class="hljs-string">'test'</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span>; <span class="hljs-comment">// false</span>
({ <span class="hljs-number">0</span>: <span class="hljs-string">'test'</span> }) <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span>; <span class="hljs-comment">// false</span></code></pre>
<h2 id="iterating-and-manipulating-arrays">Iterating and Manipulating Arrays</h2>
<p>There are <a href="/for-vs-for-each-vs-for-in-vs-for-of-in-javascript">numerous ways to iterate through an array in JavaScript</a>. They all have their tradeoffs, but the 3 most common ways to iterate over <code>arr</code> are:</p>
<ul>
<li>Conventional <code>for</code> loop</li>
</ul>
<pre><code class="language-javascript"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; arr.length; ++i) {
  arr[i]; <span class="hljs-comment">// 'a', 'b', 'c'</span>
}</code></pre>
<ul>
<li><a href="https://masteringjs.io/tutorials/fundamentals/foreach"><code>Array#forEach()</code></a></li>
</ul>
<pre><code class="language-javascript">arr.forEach((val, i) =&gt; {
  val; <span class="hljs-comment">// 'a', 'b', 'c'</span>
  i; <span class="hljs-comment">// 0, 1, 2</span>
});</code></pre>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of"><code>for/of</code> loop</a>, ES6 only</li>
</ul>
<pre><code class="language-javascript"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> val <span class="hljs-keyword">of</span> arr) {
  val; <span class="hljs-comment">// 'a', 'b', 'c'</span>
}</code></pre>
<p>The conventional <code>for</code> loop and <code>for/of</code> loop both support <a href="https://www.w3schools.com/jsref/jsref_break.asp">the <code>break</code> statement to terminate the loop early</a> and the <a href="https://www.w3schools.com/jsref/jsref_continue.asp"><code>continue</code> statement to skip the rest of the current iteration of the loop</a>. There&#39;s <a href="https://stackoverflow.com/questions/2641347/short-circuit-array-foreach-like-calling-break">no equivalent to <code>break</code> for <code>forEach()</code></a>, but you can use <code>return</code> as an equivalent to <code>continue</code> for <code>forEach()</code>.</p>
<p>To add an element to the end of the array, you can use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/push">the <code>Array#push()</code> function</a>. <a href="https://masteringjs.io/tutorials/fundamentals/push">Read more about <code>Array#push()</code> here</a>.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>];

arr.push(<span class="hljs-string">'c'</span>);
arr; <span class="hljs-comment">// ['a', 'b', 'c']</span></code></pre>
<p>To add to the beginning of the array, you can use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/unshift"><code>Array#unshift()</code></a>.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>];

arr.unshift(<span class="hljs-string">'a'</span>);
arr; [<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>];</code></pre>
<p>To insert an element in-place into an array and shift the rest of the array over, you can use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice"><code>Array#splice()</code></a> (not to be confused with <code>slice()</code>). Here&#39;s a <a href="https://masteringjs.io/tutorials/fundamentals/array-splice"><code>Array.splice()</code> tutorial</a>.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'d'</span>];

<span class="hljs-comment">// `2` means insert at index 2, `0` means delete 0 elements at index 2</span>
arr.splice(<span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'c'</span>);

<span class="hljs-comment">// `splice()` modified the array in-place</span>
arr; <span class="hljs-comment">// ['a', 'b', 'c', 'd']</span></code></pre>
<p>To remove the first or last element in the array, you can use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/shift"><code>shift()</code></a> and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/pop"><code>pop()</code></a>, respectively. You can also use <code>splice()</code>.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>];

arr.shift();
arr; <span class="hljs-comment">// ['b', 'c']</span>

arr.pop();
arr; <span class="hljs-comment">// ['b']</span></code></pre>
<h2 id="functional-programming">Functional Programming</h2>
<p>JavaScript arrays also have several functional programming primitives:</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach"><code>Array#forEach()</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map"><code>Array#map()</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce"><code>Array#reduce()</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter"><code>Array#filter()</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat"><code>Array#flat()</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flatMap"><code>Array#flatMap()</code></a></li>
</ul>
<p>These functions are great for <a href="https://schier.co/blog/2013/11/14/method-chaining-in-javascript.html">chaining function calls</a>, so you can transform arrays without explicit looping. In some cases, chaining syntax can be much cleaner than the equivalent loop.</p>
<p>For example, suppose you have an array of movies:</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> movies = [
  { title: <span class="hljs-string">'The Terminator'</span>, releaseDate: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-string">'1984-10-26'</span>) },
  { title: <span class="hljs-string">'Conan the Destroyer'</span>, releaseDate: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-string">'1984-06-29'</span>) },
  { title: <span class="hljs-string">'Predator'</span>, releaseDate: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-string">'1987-06-12'</span>) },
  { title: <span class="hljs-string">'Jingle All the Way'</span>, releaseDate: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-string">'1996-11-22'</span>) }
];</code></pre>
<p>Suppose you want to filter for movies released between 1980 and 1989, and group them by year. You can do this </p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> byYear = {};
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> movie <span class="hljs-keyword">of</span> movies) {
  <span class="hljs-keyword">const</span> year = movie.releaseDate.getYear();
  <span class="hljs-keyword">if</span> (year &lt; <span class="hljs-number">1980</span> || year &gt; <span class="hljs-number">1989</span>) {
    <span class="hljs-keyword">continue</span>;
  }
  byYear[year] = byYear[year] || [];
  byYear[year].push(movie.title);
}</code></pre>
<p>Using <a href="/tutorials/fundamentals/filter"><code>filter()</code></a>, <code>map()</code>, and <code>reduce()</code>, you can do this instead:</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> byYear = movies.
  map(m =&gt; <span class="hljs-built_in">Object</span>.assign(m, { year: m.releaseDate.getYear() })).
  filter(m =&gt; m.year &gt;= <span class="hljs-number">1980</span> &amp;&amp; m.year &lt;= <span class="hljs-number">1989</span>).
  reduce((byYear, m) =&gt; {
    byYear[year] = byYear[year] || [];
    byYear[year].push(movie.title);
    <span class="hljs-keyword">return</span> byYear;
  }, {});</code></pre>
<h2 id="holes">Holes</h2>
<p>One annoying quirk of JavaScript arrays is <a href="http://2ality.com/2015/09/holes-arrays-es6.html">holes</a>. For example, the below array has a &quot;hole&quot; at index 1.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-string">'a'</span>,, <span class="hljs-string">'c'</span>];

arr.length; <span class="hljs-comment">// 3</span>
arr[<span class="hljs-number">1</span>]; <span class="hljs-comment">// 'undefined'</span></code></pre>
<p>Holes can also occur if you <code>delete</code> an array index:</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>];

<span class="hljs-keyword">delete</span> arr[<span class="hljs-number">1</span>];

arr.length; <span class="hljs-comment">// 3</span>
arr[<span class="hljs-number">1</span>]; <span class="hljs-comment">// 'undefined'</span></code></pre>
<p>A hole is different from just setting <code>arr[1] = undefined</code> because some methods of iterating an array skip holes. Specifically, <code>forEach()</code> skips holes, but conventional <code>for</code> loops and <code>for/of</code> loops do not.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-string">'a'</span>,, <span class="hljs-string">'c'</span>];

arr.forEach(v =&gt; {
  v; <span class="hljs-comment">// 'a', 'c'</span>
});

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; arr.length; ++i) {
  arr[i]; <span class="hljs-comment">// 'a', undefined, 'c'</span>
}

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> val <span class="hljs-keyword">of</span> arr) {
  val; <span class="hljs-comment">// 'a', undefined, 'c'</span>
}</code></pre>
<p>You&#39;re unlikely to see array holes in practice, because it is impossible to represent an array hole in JSON. For example, if you <a href="http://thecodebarbarian.com/the-80-20-guide-to-json-stringify-in-javascript.html"><code>JSON.stringify()</code></a> an array with holes, JavaScript will replace the hole with <code>null</code>.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-string">'a'</span>,, <span class="hljs-string">'c'</span>];

<span class="hljs-built_in">JSON</span>.stringify(arr); <span class="hljs-comment">// '["a",null,"c"]'</span></code></pre>
<h2 id="subclassing-the-array-class">Subclassing the <code>Array</code> Class</h2>
<p><a href="https://davidtang.io/2017/09/21/subclassing-arrays-in-es2015.html">ES6 introduced the ability to subclass <code>Array</code></a>. For example, you can declare a custom array class that <code>extends Array</code> like any other <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes">ES6 class</a>.</p>
<p>For example, suppose you want a custom array class that supports filtering by property name and value. For example:</p>
<pre><code class="language-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyArray</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Array</span> </span>{
  filterByProperty(name, value) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.filter(obj =&gt; obj[name] === value);
  }
}

<span class="hljs-keyword">const</span> blogPosts = MyArray.of([
  { title: <span class="hljs-string">'Introduction to `fs`'</span>, tag: <span class="hljs-string">'Node.js'</span> },
  { title: <span class="hljs-string">'Introduction to Arrays`'</span>, tag: <span class="hljs-string">'JavaScript'</span> },
  { title: <span class="hljs-string">'Introduction to Maps`'</span>, tag: <span class="hljs-string">'JavaScript'</span> }
]);

<span class="hljs-keyword">const</span> filtered = blogPosts.filterByProperty(<span class="hljs-string">'tag'</span>, <span class="hljs-string">'JavaScript'</span>);

filtered.length; <span class="hljs-comment">// 2</span>
filtered <span class="hljs-keyword">instanceof</span> MyArray; <span class="hljs-comment">// true</span></code></pre>
<p>Be careful about modifying the array constructor! When you call <code>filter()</code>, <code>map()</code>, etc. on a subclassed array, JavaScript will call the array constructor with a single parameter <code>0</code>:</p>
<pre><code class="language-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyArray</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Array</span> </span>{
  <span class="hljs-keyword">constructor</span>(v) {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Called Constructor'</span>, v);
    <span class="hljs-keyword">super</span>(v);
  }
}

<span class="hljs-keyword">const</span> arr = MyArray.of([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);

<span class="hljs-comment">// Prints "Called Constructor 0"</span>
arr.filter(v =&gt; v &gt; <span class="hljs-number">2</span>);</code></pre>
<p>If you choose to overwrite the array constructor with additional required parameters, make sure you can handle this case. You can also overwrite <code>filter()</code>, <code>map()</code>, and other functional paradigms to call your custom array constructor correctly.</p>
<h2 id="moving-on">Moving On</h2>
<p>Arrays are everywhere in JavaScript. Unfortunately, the Array API has a broad surface area and there&#39;s myriad tradeoffs between ways to achieve the same outcome. Depending on your use case, you may want to use functional programming versus loops, <code>concat()</code> versus spread, etc. Getting the details right is tricky, which is why <a href="https://github.com/airbnb/javascript/issues/1271">some people resort to draconian ESLint rules</a> to reduce the likelihood of mistakes. ESLint can help, but it is no substitute for a deep understanding of array fundamentals.</p>
</div><div style="color: #666666; border-top: 1px dashed #666666; margin: 25px; text-align: center; padding-top: 10px"><em>Found a typo or error? Open up a pull request! This post is
available as markdown on&nbsp;<a href="https://github.com/vkarpov15/thecodebarbarian.com/blob/master/lib/posts/#{post.src.substr('./lib/posts/'.length)}">Github</a></em></div><div id="disqus_thread"></div><script type="text/javascript">/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'codebarbarian'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a class="dsq-brlink" href="http://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a></div></div><div style="padding-bottom: 100px">&nbsp;</div><script type="text/javascript">var xhr = new XMLHttpRequest();
xhr.open('POST', 'https://g0a3nbw0xa.execute-api.us-east-1.amazonaws.com/prod/track', true);
xhr.setRequestHeader('Content-Type', 'application/json');
xhr.onreadystatechange = function() {};
xhr.send(JSON.stringify({
  path: window.location.pathname,
  hostname: window.location.hostname
}));</script><link rel="stylesheet" href="/style/inlinecpc.css"></body></html>